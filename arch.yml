---
- hosts: localhost
  name: configure Arch Linux system
  connection: local
  become: yes

  pre_tasks:

    - include_vars: group_vars/vbox.yml
      when: ansible_product_name == "VirtualBox"

    - include_vars: group_vars/gazelle.yml
      when: ansible_product_name == "Gazelle Professional"

    - include_vars: group_vars/xps.yml
      when: ansible_product_name == "XPS 13 9350"

    - name: update repository mirrors
      command: reflector --sort score -p https --country '{{ country }}' --save /etc/pacman.d/mirrorlist

  roles:
    - pacman
    - aur
    - base
    - ssh
    - xorg
    - lxdm
    - networkmanager
    - udisks
    - media
    - web
